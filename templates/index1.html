<!DOCTYPE html>
<html>

<head>
    <title>Flask-SQLAlchemy Demo</title>
</head>

<body>
    <h1>Flask-SQLAlchemy Demo</h1>

    <h2>Add User</h2>
    <form method="POST" action="/add_user">
        <input type="text" name="username" placeholder="Username" required><br>
        <input type="email" name="email" placeholder="Email" required><br>
        <input type="text" name="phone_number" placeholder="Mobile Number"><br>
        <input type="text" name="gender" placeholder="Gender"><br>
        <input type="text" name="skills" placeholder="Skills"><br>
        <button type="submit">Add User</button>
    </form>

    <h2>Add Post</h2>
    <form method="POST" action="/add_post">
        <select name="author_id" required>
            {% for user in users %}
            <option value="{{ user.id }}">{{ user.username }}</option>
            {% endfor %}
        </select><br>
        <input type="text" name="title" placeholder="Title" required><br>
        <textarea name="content" placeholder="Content" required></textarea><br>
        <button type="submit">Add Post</button>
    </form>

    <h2>Users</h2>
    <ul>
        {% for user in users %}
        <li>
            {{ user.username }} ({{ user.email }})
            {% if user.phone_number %} | {{ user.phone_number }} {% endif %}
            {% if user.gender %} | {{ user.gender }} {% endif %}
            {% if user.skills %} | {{ user.skills }} {% endif %}
            â€“ {{ user.posts|length }} posts
            [<a href="{{ url_for('update_user', id=user.id) }}">Edit</a>]
            [<a href="{{ url_for('delete_user', id=user.id) }}" onclick="return confirm('Are you sure?')">Delete</a>]
        </li>
        {% endfor %}
    </ul>

    <h2>Posts</h2>
    <ul>
        {% for post in posts %}
        <li>
            <strong>{{ post.title }}</strong> by {{ post.author.username }} <br>
            {{ post.content[:100] }}...
        </li>
        {% endfor %}
    </ul>

</body>

</html>